<!DOCTYPE html>
<html>
  <head>
    <%- include('./commons/head') %>
    <link rel="stylesheet" href="/stylesheets/dashboard.css" />
    <script src="/javascripts/p5.min.js"></script>
  </head>
  <body>
    <%- include('./commons/header') %>
    <div class="container">
      <div class="left">
        <div class="logo"></div>
        <div class="menu">
          <div class="goToBack">
            <div class="homeIcon"></div>
          </div>
          <div class="recordButton">
            <i class="recordIcon"></i>
            <div class="desc">
              RECORDING
            </div>
            <input type="file" accept="audio/*" capture="microphone" id="recorder" />
          </div>
        </div>
        <div class="clientHead">
          <div class="desc">My Clients</div>
          <div class="faceImageFrame">
            <div class="faceImage"></div>
          </div>
        </div>
        <div class="clientBody">
          <div
            class="shareIcon"
            onclick="javascript: window.location.href='mailto:sm5204@kpmg.com?subject=요청하신 내용 공유드립니다&body=이 내용은 25HOURS 앱에서 공유되었습니다. %0D%0A이름 : Meg Fletcher%0D%0A연락처 : 010-0472-6945%0D%0A이메일 : reagreh42@gmail.com%0D%0A최근 미팅일자 : 2020/02/16%0D%0A회사 : LG Electronics%0D%0A직책 : Senior digital manager%0A------------------------%0A';"
          ></div>
          <div class="frame">
            <div class="deco"></div>
            <div class="wrapper">
              <label for="name">Name</label>
              <div><div>Meg Fletcher</div></div>
            </div>
            <div class="wrapper">
              <label for="Contact">Contact</label>
              <div><div>82-01-0472-6945</div></div>
            </div>
            <div class="wrapper">
              <label for="Email">Email</label>
              <div><div>reagreh42@gmail.com</div></div>
            </div>
            <div class="wrapper">
              <label for="Recent meeting">Recent meeting</label>
              <div><div>2020/02/16</div></div>
            </div>
            <div class="wrapper">
              <label for="Number of meetings">Company</label>
              <div><div>LG Electronics</div></div>
            </div>
            <div class="wrapper">
              <label for="Position">Position</label>
              <div><div>Senior digital manager</div></div>
            </div>
          </div>
        </div>
      </div>
      <div class="right">
        <div class="top">
          <div class="clientInfo">
            <div class="frame">
              <div class="deco"></div>
              <div class="shareIcon2"></div>
              <div class="title">Keywords</div>
              <div class="keywords" id="keywords">
                <!-- <span class="keyword">facilities for communication</span>
                <span class="keyword">budget consultation</span>
                <span class="keyword">Register for the establishment</span>
                <span class="keyword">nonprofit organization</span>
                <span class="keyword">Checking records</span>
                <span class="keyword">facilities for communication</span>
                <span class="keyword">facilities for communication</span>
                <span class="keyword">communication</span>
                <span class="keyword">facilities for communication</span>
                <span class="keyword">Checking records</span> -->
              </div>
            </div>
            <div class="frame">
              <div class="deco"></div>
              <div class="shareIcon2"></div>
              <div class="title">Summary</div>

              <div class="sentences">
                <div class="sentencesDesc" id="sentences">
                  <!-- <div class="sentence">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo, laudantium Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Explicabo, laudantium
                  </div>
                  <div class="sentence">
                    aliquam culpa omnis architecto quis dolores doloremque veniam perspiciatis aliquam culpa omnis architecto quis dolores doloremque veniam
                    perspiciatis
                  </div>
                  <div class="sentence">
                    repellat velit eligendi hic quae exercitationem ad quam ipsum facilis. aliquam culpa omnis architecto quis dolores doloremque veniam
                    perspiciatis
                  </div> -->
                </div>
                <div class="dots"></div>
                <!-- <div class="sentenceGood">
                  I like the model I saw last time, so I want to move forward with this contract.
                  <div class="thumbupIcon"></div>
                </div>
                <div class="sentenceBad">
                  If the terms of the contract are not met in the budget, we should consider investing.
                  <div class="thumbdownIcon"></div>
                </div> -->
              </div>
            </div>
          </div>
          <div class="checklist">
            <div class="deco"></div>
            <div class="frame">
              <div class="inner">
                <div class="shareIcon2"></div>
                <div class="innerDesc">Checklist</div>
                <div class="wrapper">
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="수상 경력 확인" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="경력 레퍼런스 체크" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="추천서" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="영어 성적" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="최종 발표일 재확인" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="" />
                  </div>
                  <div>
                    <input type="checkbox" />
                    <input type="text" value="" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="meetingList">
          <div class="deco"></div>
          <div class="frame">
            <div class="inner">
              <div class="meetingDesc">Meeting List</div>
              <div class="meetings">
                <table>
                  <tbody>
                    <tr>
                      <td>Number</td>
                      <td>Created At</td>
                      <td>Recording Time</td>
                      <td>Place</td>
                      <td>Share</td>
                      <td>Audio</td>
                      <td>Script</td>
                    </tr>
                    <!-- <tr>
                      <td>#4</td>
                      <td>Feb 20,2020 - 12:42 PM</td>
                      <td>00:54:50</td>
                      <td class="placeIcon"></td>
                      <td class="shareIcon3"></td>
                      <td class="audioIcon"></td>
                      <td class="scriptIcon"></td>
                    </tr> -->
                    <tr>
                      <td>#3</td>
                      <td>Feb 18,2020 - 14:20 PM</td>
                      <td>00:52:40</td>
                      <td class="placeIcon"></td>
                      <td class="shareIcon3"></td>
                      <td class="audioIcon"></td>
                      <td class="scriptIcon"></td>
                    </tr>
                    <tr>
                      <td>#2</td>
                      <td>Feb 12,2020 - 12:09 PM</td>
                      <td>00:49:41</td>
                      <td class="placeIcon"></td>
                      <td class="shareIcon3"></td>
                      <td class="audioIcon"></td>
                      <td class="scriptIcon"></td>
                    </tr>
                    <tr>
                      <td>#1</td>
                      <td>Feb 10,2020 - 16:40 PM</td>
                      <td>00:49:49</td>
                      <td class="placeIcon"></td>
                      <td class="shareIcon3"></td>
                      <td class="audioIcon"></td>
                      <td class="scriptIcon"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const recorder = document.getElementsByClassName("recordButton")[0];
      recorder.addEventListener("change", function(e) {
        var file = e.target.files[0];
        sendToServer(file, "/record");
      });
      function sendToServer(blob, url, name = "audio") {
        var formData = new FormData();
        formData.append(name, blob);
        $.ajax({
          url: url,
          type: "post",
          data: formData,
          contentType: false,
          processData: false,
          cache: false,
          success: function(data) {
            alert("녹음파일 등록이 완료되었습니다.");
          },
          error: function(data) {
            alert("녹음파일 등록이 실패했습니다.");
          }
        });
      }
    </script>

    <%- include('./commons/footer') %>
    <script>
      $(".goToBack").click(() => (window.location.href = "clients"));
    </script>
    <script>
      keywords_a = ["Global branch", "Reshuffling", "Selection", "Achievements", "Application Forms", "Work blank", "English ability", "capability"];
      keywords_b = ["Referrals", "interview status", "English scores", "waiting numbers", "English interviews"];
      sentences_a = [
        `"Receiving application for the number prediction"`,
        `"Selecting after evaluating the work performance"`,
        `"Recommendation from each departments"`,
        `"Proof of English ability(TOEFL, IELTS)"`
      ];
      sentences_b = [
        `"Recommend personnel from each headquarters 3 people"`,
        `"1 person should be on the waiting list"`,
        `"3 additional interviews will be held after the receving the referrals"`,
        `"First Interview should be held in English"`
      ];
      b = keywords_a.map(e => `<span class="keyword">${e}</span>`);
      c = $("#keywords")
        .empty()
        .append(b);
      b = sentences_a.map(e => `<div class="sentence">${e}</div>`);
      c = $("#sentences")
        .empty()
        .append(b);
      $("div.meetings > table > tbody tr:nth-child(2) td:first-child").click(() => {
        b = keywords_a.map(e => `<span class="keyword">${e}</span>`);
        c = $("#keywords")
          .empty()
          .append(b);
        b = sentences_a.map(e => `<div class="sentence">${e}</div>`);
        c = $("#sentences")
          .empty()
          .append(b);
      });
      $("div.meetings > table > tbody tr:nth-child(3) td:first-child").click(() => {
        b = keywords_b.map(e => `<span class="keyword">${e}</span>`);
        c = $("#keywords")
          .empty()
          .append(b);
        b = sentences_b.map(e => `<div class="sentence">${e}</div>`);
        c = $("#sentences")
          .empty()
          .append(b);
      });
    </script>
  </body>
</html>
